<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC   
    "-//mybatis.org//DTD Mapper 3.0//EN"  
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 
   
  <mapper namespace="com.sheyu.db.dao.interfaces.IEntityMemberDao">
  <resultMap type="EntityMember" id="userList">
  	<result column="id" property="id"/>
  	<result column="name" property="name"/>
  	<result column="password" property="password"/>
  	<result column="alias" property="alias"/>
  	<result column="gender" property="gender"/>
  	<result column="mail" property="mail"/>
  	<result column="birthday" property="birthday"/>
  	<result column="telphone" property="telphone"/>
  	<result column="address" property="address"/>
  	<result column="lastL_login_time" property="lastLoginTime"/>
  	<result column="password_change_time" property="passwordChangeTime"/>
  	<result column="create_time" property="createTime"/>
  	<result column="status" property="status"/>
  	<result column="description" property="description"/>
  </resultMap>
	
	  <select id="getUserCount" resultType="int">
	  select count(1) from member_info
	  </select>
	  
	  <select id="getUserInfo"  resultType="EntityMember">
	  select password,name from member_info
	  </select>
	  
	  <select id="getUserByName" parameterType="java.util.Map" resultType="EntityMember"> <!-- 此处用resultMap="userList"也可以 -->
	  select password,name from member_info where name=#{username}
	  </select>
	  
	  <insert id="save" parameterType="EntityMember" useGeneratedKeys="true" keyProperty="id">
  		insert into member_info(name, password) values(#{name}, #{password})
		</insert>
  </mapper> 
    